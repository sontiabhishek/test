<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Sports</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #dashboard-container main {
      position: relative;
      min-height: 100%;
      overflow-y: auto;
    }
    .section {
      position: static !important;
      width: 100%;
      display: block;
      padding-bottom: 2rem;
    }
    .section.hidden {
      display: none;
    }
    .stats-card {
      min-width: 210px;
      height: 150px;
      font-size: 1.35rem;
    }
    .stats-value {
      font-size: 2.8rem;
      font-weight: 800;
      line-height: 1;
    }
    .goal-card {
      min-width: 240px;
      height: 110px;
      font-size: 1.25rem;
    }
    .goal-icon {
      font-size: 2.1rem;
      margin-bottom: 0.5rem;
      display: block;
    }
    .chat-container {
      display: flex;
      flex-direction: column;
      height: 350px;
      border: 1px solid #415a77;
      border-radius: 0.5rem;
      background-color: #1b263b;
      padding: 1rem;
      overflow-y: auto;
      gap: 0.75rem;
      color: #e0e1dd;
    }
    .chat-message {
      background-color: #415a77;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      max-width: 75%;
      word-wrap: break-word;
    }
    .chat-message.self {
      background-color: #778da9;
      align-self: flex-end;
      color: #0d1b2a;
    }
    .chat-input-container {
      margin-top: 1rem;
      display: flex;
      gap: 0.5rem;
    }
    .chat-input {
      flex-grow: 1;
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #415a77;
      background-color: #0d1b2a;
      color: #e0e1dd;
      outline: none;
    }
    /* Coach dashboard */
    .coach-card {
      background: #415a77;
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 4px 8px rgb(57 70 93 / 0.5);
      color: #e0e1dd;
      margin-bottom: 1.5rem;
    }
    .coach-card h3 {
      margin-bottom: 1rem;
      font-size: 1.125rem;
      font-weight: 600;
      color: #fff;
    }
    .alert-red {
      color: #ff5c5c;
      font-weight: 700;
    }
    .analytics-list {
      list-style: none;
      padding-left: 0;
      font-size: 0.9rem;
      line-height: 1.4;
    }
    .long-term-plan {
      background: #324559;
      padding: 1rem;
      border-radius: 0.75rem;
      font-size: 0.9rem;
      line-height: 1.3;
    }
  </style>
</head>
<body class="bg-[#0d1b2a] font-sans text-[#e0e1dd] min-h-screen flex items-start justify-start">

  <!-- Login Container -->
  <div id="login-container" class="fixed inset-0 bg-[#161925] flex items-center justify-center z-50">
    <div class="flex flex-col md:flex-row bg-[#232946] rounded-2xl shadow-2xl overflow-hidden w-full max-w-4xl mx-4 md:mx-auto">
      <div class="md:w-1/2 bg-gradient-to-br from-[#4f5d75] to-[#232946] flex flex-col items-center justify-center p-8">
        <h1 class="text-3xl font-bold text-[#e0e1dd]">Capturing Talent, Creating Legends</h1>
        <p class="text-gray-400 mt-4 mb-6">AI sports platform for every athlete and every coach</p>
      </div>
      <div class="md:w-1/2 p-10 flex flex-col justify-center bg-[#232946]">
        <h2 class="text-2xl font-bold text-[#e0e1dd] mb-4">Login to your account</h2>
        <form id="login-form" class="space-y-5" onsubmit="return handleLogin(event)">
          <div class="flex gap-2">
            <input type="text" id="username" class="block w-1/2 p-3 rounded-md bg-[#161925] text-[#e0e1dd] border border-[#4f5d75] focus:border-[#7c73e6]" placeholder="Username" required />
            <input type="email" id="email" class="block w-1/2 p-3 rounded-md bg-[#161925] text-[#e0e1dd] border border-[#4f5d75] focus:border-[#7c73e6]" placeholder="Email" required />
          </div>
          <input type="password" id="password" class="block w-full p-3 rounded-md bg-[#161925] text-[#e0e1dd] border border-[#4f5d75] focus:border-[#7c73e6]" placeholder="Password" required />
          <div class="flex gap-4">
            <label class="flex items-center cursor-pointer">
              <input type="radio" name="role" value="athlete" class="form-radio text-[#7c73e6]" checked />
              <span class="ml-2 text-[#e0e1dd]">Athlete</span>
            </label>
            <label class="flex items-center cursor-pointer">
              <input type="radio" name="role" value="coach" class="form-radio text-[#7c73e6]" />
              <span class="ml-2 text-[#e0e1dd]">Coach</span>
            </label>
          </div>
          <button type="submit" class="w-full bg-[#7c73e6] text-white p-3 rounded-xl font-semibold hover:bg-[#9c96db] focus:outline-none">Login</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Main Dashboard Container (Initially Hidden) -->
  <div id="dashboard-container" class="hidden flex h-screen m-4">
    <aside class="w-64 bg-[#1b263b] shadow-md p-4 flex flex-col">
      <h2 class="text-2xl font-bold text-[#e0e1dd] mb-6">AI Sports</h2>
      <nav class="flex-1">
        <ul id="sidebar-menu" class="space-y-4"></ul>
      </nav>
      <button id="logoutBtn" class="hidden mt-auto bg-[#415a77] text-[#e0e1dd] py-2 rounded-lg hover:bg-[#778da9]">Logout</button>
    </aside>
    <main class="flex-1 p-6 overflow-y-auto">
      <div id="dashboard" class="section hidden">
        <header class="flex justify-between items-center mb-6 bg-[#212f3d] p-4 rounded-xl">
          <h1 class="text-2xl font-bold text-[#e0e1dd]">Athlete Dashboard</h1>
        </header>
        <section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-6">
          <div class="bg-[#415a77] stats-card rounded-xl shadow-md flex flex-col justify-center items-start px-6 py-8 min-w-[210px] h-[150px]">
            <span class="text-[#e0e1dd]/80 mb-2 font-medium">Workouts Completed</span>
            <span class="stats-value text-[#e0e1dd]" id="workoutsValue">0</span>
          </div>
          <div class="bg-[#415a77] stats-card rounded-xl shadow-md flex flex-col justify-center items-start px-6 py-8 min-w-[210px] h-[150px]">
            <span class="text-[#e0e1dd]/80 mb-2 font-medium">Fitness Level</span>
            <span class="stats-value text-[#778da9]" id="fitnessValue">0</span>
          </div>
          <div class="bg-[#415a77] stats-card rounded-xl shadow-md flex flex-col justify-center items-start px-6 py-8 min-w-[210px] h-[150px]">
            <span class="text-[#e0e1dd]/80 mb-2 font-medium">AI Score</span>
            <span class="stats-value text-[#e0e1dd]" id="aiScoreValue">0%</span>
          </div>
          <div class="bg-[#415a77] stats-card rounded-xl shadow-md flex flex-col justify-center items-start px-6 py-8 min-w-[210px] h-[150px]">
            <span class="text-[#e0e1dd]/80 mb-2 font-medium">Injury Alerts</span>
            <span class="stats-value text-red-500" id="injuryAlertsValue">0</span>
          </div>
        </section>
      </div>

      <div id="coach" class="section hidden">
        <header class="flex justify-between items-center mb-6 bg-[#212f3d] p-4 rounded-xl">
          <h1 class="text-2xl font-bold text-[#e0e1dd]">Coach Dashboard</h1>
        </header>
        <div class="coach-card">
          <h3>Analytics</h3>
          <ul class="analytics-list">
            <li>Player Performance Index: 85%</li>
            <li>Average Practice Hours: 15 hrs/week</li>
            <li>Upcoming Competitions Monitored: 3</li>
          </ul>
        </div>
        <div class="coach-card">
          <h3>Injury Alerts</h3>
          <ul class="analytics-list">
            <li>Player John Doe - Strain (2 days ago)</li>
            <li>Player Jane Smith - Ankle sprain (5 days ago)</li>
          </ul>
          <p class="alert-red font-semibold mt-2">No new alerts</p>
        </div>
        <div class="coach-card">
          <h3>Long-Term Plans</h3>
          <div class="long-term-plan">
            <p>Create personalized recovery schedules by July 20</p>
            <p>Prepare strategy for upcoming national championship</p>
            <p>Schedule nutrition workshop for athletes next month</p>
          </div>
        </div>
      </div>

      <div id="progress" class="section hidden">
        <h2 class="text-lg font-bold mb-4 text-[#e0e1dd]">Performance Progress</h2>
        <div class="h-64 bg-[#1b263b] flex items-center justify-center rounded-lg">
          <span class="text-[#778da9]">[Progress Chart Placeholder]</span>
        </div>
      </div>

      <div id="upload" class="section hidden">
        <h2 class="text-lg font-bold mb-4 text-[#e0e1dd]">Upload Assessment Video</h2>
        <form class="space-y-4">
          <input type="file" class="block w-full text-[#e0e1dd] border border-[#778da9] rounded-lg p-2 bg-[#1b263b]" />
          <button type="submit" class="w-full bg-[#415a77] text-[#e0e1dd] py-2 rounded-lg hover:bg-[#778da9]">Upload & Analyze</button>
        </form>
      </div>

      <div id="goals" class="section hidden">
        <h2 class="text-lg font-bold mb-4 text-[#e0e1dd]">Achievements</h2>
        <ul class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <li class="p-4 bg-[#1b263b] rounded-lg text-center">üèÖ <p class="mt-2 font-semibold text-[#e0e1dd]">10K Run Completed</p></li>
          <li class="p-4 bg-[#1b263b] rounded-lg text-center">üèãÔ∏è <p class="mt-2 font-semibold text-[#e0e1dd]">Strength Milestone</p></li>
          <li class="p-4 bg-[#1b263b] rounded-lg text-center">üö¥ <p class="mt-2 font-semibold text-[#e0e1dd]">Cycling Badge</p></li>
          <li class="p-4 bg-[#1b263b] rounded-lg text-center">‚ö° <p class="mt-2 font-semibold text-[#e0e1dd]">Speed Record</p></li>
        </ul>
      </div>

      <div id="community" class="section hidden">
        <h2 class="text-lg font-bold mb-4 text-[#e0e1dd]">Community</h2>
        <div id="chatContainer" class="chat-container"></div>
        <div class="chat-input-container">
          <input id="chatInput" type="text" placeholder="Type a message..." class="chat-input" autocomplete="off" />
          <button id="sendBtn" class="bg-[#5563de] hover:bg-[#7783dc] text-white rounded px-4 py-2">Send</button>
        </div>
      </div>
    </main>
  </div>

<script>
  const chatContainer = document.getElementById('chatContainer');
  const chatInput = document.getElementById('chatInput');
  const sendBtn = document.getElementById('sendBtn');
  let chatMessages = [];

  function renderChat() {
    chatContainer.innerHTML = '';
    chatMessages.forEach(msg => {
      const msgElem = document.createElement('div');
      msgElem.classList.add('chat-message');
      if(msg.sender === 'self') msgElem.classList.add('self');
      msgElem.textContent = msg.text;
      chatContainer.appendChild(msgElem);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    });
  }

  function addMessage(sender, text) {
    chatMessages.push({ sender, text });
    renderChat();
  }

  sendBtn.addEventListener('click', () => {
    const messageText = chatInput.value.trim();
    if(!messageText) return;
    addMessage('self', messageText);
    chatInput.value = '';
    setTimeout(() => {
      addMessage('other', 'Thanks for sharing!');
    }, 1500);
  });

  chatInput.addEventListener('keypress', e => {
    if(e.key === 'Enter') {
      e.preventDefault();
      sendBtn.click();
    }
  });

  function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(sec => sec.classList.add('hidden'));
    document.getElementById(sectionId).classList.remove('hidden');
  }

  function buildSidebar(role) {
    const sidebar = document.getElementById('sidebar-menu');
    sidebar.innerHTML = '';
    const commonItems = [
      { id: 'progress', label: 'üìà Progress' },
      { id: 'upload', label: 'üìπ Upload Video' },
      { id: 'goals', label: 'üèÖ Goals' },
      { id: 'community', label: 'üë• Community' }
    ];
    if (role === 'athlete') {
      sidebar.innerHTML += `<li><button onclick="showSection('dashboard')" class="w-full text-left text-[#e0e1dd] font-medium hover:text-[#778da9]">üè† Athlete Dashboard</button></li>`;
    } else if (role === 'coach') {
      sidebar.innerHTML += `<li><button onclick="showSection('coach')" class="w-full text-left text-[#e0e1dd] font-medium hover:text-[#778da9]">üßë‚Äçüè´ Coach Dashboard</button></li>`;
    }
    commonItems.forEach(item => {
      sidebar.innerHTML += `<li><button onclick="showSection('${item.id}')" class="w-full text-left text-[#e0e1dd] font-medium hover:text-[#778da9]">${item.label}</button></li>`;
    });
  }

  function handleLogin(event) {
    event.preventDefault();
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();
    const role = document.querySelector('input[name="role"]:checked').value;
    if (!username || !email || !password) {
      alert("Please fill out all fields.");
      return false;
    }
    sessionStorage.setItem('aiSportsUser', JSON.stringify({ username, email, role }));
    document.getElementById('login-container').style.display = 'none';
    document.getElementById('dashboard-container').style.display = 'flex';
    buildSidebar(role);
    if (role === 'athlete') {
      showSection('dashboard');
    } else if (role === 'coach') {
      showSection('coach');
    }
    document.getElementById('logoutBtn').classList.remove('hidden');
    return false;
  }

  document.getElementById('logoutBtn').addEventListener('click', () => {
    sessionStorage.clear();
    chatMessages = [];
    renderChat();
    document.getElementById('dashboard-container').style.display = 'none';
    document.getElementById('login-container').style.display = 'flex';
    document.getElementById('logoutBtn').classList.add('hidden');
    document.getElementById('sidebar-menu').innerHTML = '';
  });

  window.onload = function() {
    const user = sessionStorage.getItem('aiSportsUser');
    if (user) {
      const { role } = JSON.parse(user);
      document.getElementById('login-container').style.display = 'none';
      document.getElementById('dashboard-container').style.display = 'flex';
      buildSidebar(role);
      if (role === 'athlete') {
        showSection('dashboard');
      } else if (role === 'coach') {
        showSection('coach');
      }
      document.getElementById('logoutBtn').classList.remove('hidden');
    } else {
      document.getElementById('login-container').style.display = 'flex';
      document.getElementById('dashboard-container').style.display = 'none';
      document.getElementById('logoutBtn').classList.add('hidden');
      document.getElementById('sidebar-menu').innerHTML = '';
    }
    renderChat();
  };
</script>

</body>
</html>
